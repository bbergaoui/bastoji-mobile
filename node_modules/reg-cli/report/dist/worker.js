!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/static",t(t.s=52)}({52:function(e,n,t){"use strict";var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},o=function(){return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=t(53).ModuleClass,s=t(55).version;var a,c,u,l=!1,f=null;function d(e){var n=e.data,t=n.raw,o=n.img1,i=n.img2,s=n.actualSrc,a=n.expectedSrc,c=n.seq,u=self.Module.detectDiff(Module,o,i,{});self.postMessage({type:"res_calc",seq:c,raw:t,actualSrc:s,expectedSrc:a,result:r({},u,{images:[{width:o.width,height:o.height},{width:i.width,height:i.height}]})})}self.Module=new i({version:(a=s,c=a.match(/^(\d*)\.(\d*)\.(\d*)/),u=o(c,4),u[0],1e4*+u[1]+100*+u[2]+ +u[3]),wasmUrl:self.wasmUrl,init:function(){l=!0,f&&d(f),self.postMessage({type:"init"})}}),self.addEventListener("message",function(e){switch(e.data.type){case"req_calc":l?d(e):f=e}})},53:function(e,n,t){"use strict";var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var o=t(54),i=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this._initCb=n.init,this._version=n.version,this._wasmUrl=n.wasmUrl}return r(e,[{key:"locateFile",value:function(e){return self.location.pathname.replace(/\/[^\/]*$/,"/")+e}},{key:"instantiateWasm",value:function(e,n){return o(this._version,this._wasmUrl,e).then(function(e){return n(e)}),{}}},{key:"onInit",value:function(e){this._initCb=e}},{key:"onRuntimeInitialized",value:function(){if(this._initCb)return this._initCb(this)}}]),e}();e.exports={ModuleClass:i}},54:function(e,n,t){"use strict";e.exports=function(e,n,t){var r="wasm-cache",o="wasm-cache";function i(){return fetch(n).then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e,t)})}return new Promise(function(n,t){var i=indexedDB.open(r,e);i.onerror=t.bind(null,"Error opening wasm cache database"),i.onsuccess=function(){n(i.result)},i.onupgradeneeded=function(e){var n=i.result;n.objectStoreNames.contains(o)&&(console.log("Clearing out version "+e.oldVersion+" wasm cache"),n.deleteObjectStore(o)),console.log("Creating version "+e.newVersion+" wasm cache"),n.createObjectStore(o)}}).then(function(e){return(r=e,new Promise(function(e,t){var i=r.transaction([o]).objectStore(o).get(n);i.onerror=t.bind(null,"Error getting wasm module "+n),i.onsuccess=function(r){i.result?e(i.result):t("Module "+n+" was not found in wasm cache")}})).then(function(e){return console.log("Found "+n+" in wasm cache"),WebAssembly.instantiate(e,t)},function(t){return console.log(t),i().then(function(t){return setTimeout(function(){return function(e,t){var r=e.transaction([o],"readwrite").objectStore(o);try{var i=r.put(t,n);i.onerror=function(e){console.log("Failed to store in wasm cache: "+e)},i.onsuccess=function(e){console.log("Successfully stored "+n+" in wasm cache")}}catch(e){console.warn("An error was thrown... in storing wasm cache..."),console.warn(e)}}(e,t.module)},0),t.instance})});var r},function(e){return console.log(e),i().then(function(e){return e.instance})})}},55:function(e,n){e.exports={name:"x-img-diff-js",version:"0.3.5",main:"src/index.js",description:"compare 2 images considering into translation",scripts:{build:"docker-compose run --rm emcc && npm run build:demo",test:"node test/test_node.js","build:demo":"cp -rf build demo",start:"cd demo; http-server -p 8000","gen:postjs":"babel binding-gen/post.js > bindings/post.js",deploy:"npm run build:demo && gh-pages -d demo"},repository:{type:"git",url:"git+https://github.com/reg-viz/x-img-diff-js.git"},author:"Quramy",license:"MIT",bugs:{url:"https://github.com/reg-viz/x-img-diff-js/issues"},homepage:"https://github.com/reg-viz/x-img-diff-js#readme",devDependencies:{"babel-cli":"^6.26.0","babel-core":"^6.26.0","babel-preset-es2015":"^6.24.1","gh-pages":"^1.0.0","http-server":"^0.10.0",pngjs:"^3.3.0"}}}});